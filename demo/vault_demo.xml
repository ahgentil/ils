<Module>
  <ModulePrefs title="Vault Demo"
              author_email="na.li@epfl.ch"
              author="Na Li"
              description="Shows how to use ils javascript library"
              width="500"
              height="800">
      <Require feature="opensocial" />
      <Require feature="osapi" />
    </ModulePrefs>
 <Content type="html" view="default,canvas,home,profile">
 <![CDATA[
 <script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/jquery-1.8.0.min.js"></script>
 <script type="text/javascript" src="http://graasp.epfl.ch/gadget/libs/jquery.cookie.js"></script>
 <script type="text/javascript" src="../main/ils.js"></script>
 <script type="text/javascript">
  var getData = function() {
    // get current user and print it
    ils.getCurrentUser(function(current_user){
      console.log("print current user");
      console.log(current_user);
      $('#get_current_user').append("Current user nickname: " + current_user);
    });

    // get the ILS and print it
    ils.getIls(function(ils_space){
      console.log(ils_space);
      $('#get_ils').append("ILS id " + ils_space.id);
    });

    // get the Vault space and print it
    ils.getVault(function(vault){
      console.log(vault);
      $('#get_vault').append("Vault id " + vault.id);
    });
  };

  // console.log(gadgets);
  gadgets.util.registerOnLoadHandler(getData);

  </script>
  <div id="get_current_user"><b>ils.getCurrentUser:</b> </div>
  <div id="get_ils"><b>ils.getIls:</b> </div>
  <div id="get_vault"><b>ils.getVault:</b> </div>
  <br />
  ]]>
  </Content>
</Module>